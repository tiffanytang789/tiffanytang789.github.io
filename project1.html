<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Project 1 — Images of the Russian Empire</title>
  <style>
    :root{
      --bg: #f5f7fa;
      --card: #ffffff;
      --muted: #555b66;
      --text: #1b1f24;
      --accent: #4169e1;
      --ring: rgba(65,105,225,.3);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color:var(--text);
      background: radial-gradient(800px 500px at 20% -10%, #e0e8ff 0%, transparent 60%),
                  radial-gradient(700px 400px at 120% -20%, #fbe6ff 0%, transparent 55%),
                  var(--bg);
      line-height:1.6;
    }
    a{color:var(--accent); text-decoration:none}
    a:hover{ text-decoration:underline }

    .container{ max-width: 1000px; margin: 0 auto; padding: 24px; }

    header{
      position: sticky; top:0; backdrop-filter: blur(6px);
      background: linear-gradient(to bottom, rgba(245,247,250,.9), rgba(245,247,250,.7));
      border-bottom: 1px solid rgba(0,0,0,.08);
      z-index: 10;
    }
    .nav{ display:flex; align-items:center; gap:12px; padding: 12px 24px; }
    .crumbs{ font-size:.9rem; color:var(--muted) }
    .crumbs a{ color:var(--muted) }

    .title{
      margin: 28px 0 8px; font-size: clamp(1.8rem, 3.5vw, 2.4rem); font-weight: 700;
      letter-spacing:.3px;
    }

    .card{
      background: var(--card);
      border: 1px solid rgba(0,0,0,.08);
      border-radius: 18px; padding: 18px; box-shadow: 0 6px 20px rgba(0,0,0,.08);
    }

    .section{ margin: 26px 0; }

    .badge{ display:inline-flex; align-items:center; gap:8px; font-size:.78rem; color:var(--muted);
      padding: 6px 10px; border:1px solid rgba(0,0,0,.1); border-radius:999px; background:rgba(255,255,255,.6) }

    /* Read-only text boxes */
    .box-line{
      border: 2px dashed rgba(65,105,225,.5);
      border-radius: 14px;
      background: rgba(65,105,225,.06);
      color: var(--text);
      padding: 12px 16px;
      font-weight: 600;
    }
    .box-text{
      border: 2px dashed rgba(65,105,225,.5);
      border-radius: 14px;
      background: rgba(65,105,225,.06);
      color: var(--text);
      padding: 14px;
      min-height: 90px;
    }

    /* Grids */
    .grid-2{ display:grid; gap:16px; grid-template-columns: repeat(2, minmax(0,1fr)); }
    .grid-3{ display:grid; gap:16px; grid-template-columns: repeat(3, minmax(0,1fr)); }
    .grid-2x3{ display:grid; gap:16px; grid-template-columns: repeat(2, minmax(0,1fr)); }
    .grid-2x4{ display:grid; gap:16px; grid-template-columns: repeat(2, minmax(0,1fr)); }

    @media (max-width: 900px){
      .grid-3{ grid-template-columns: repeat(2, minmax(0,1fr)); }
    }
    @media (max-width: 600px){
      .grid-2,.grid-3,.grid-2x3,.grid-2x4{ grid-template-columns: 1fr; }
    }

    figure{ margin:0; display:flex; flex-direction:column; gap:10px }

    .img-wrap{
      overflow:hidden; border-radius:14px; border:1px solid rgba(0,0,0,.08);
      display:block; background:#f0f2f7;
    }
    /* Aspect ratio helpers for tidy tiles */
    .img-wrap.ar-4x3{ aspect-ratio: 4 / 3; }
    .img-wrap.ar-1x1{ aspect-ratio: 1 / 1; }
    /* Default image fits container; when AR is set, cover keeps uniform tiles */
    .img-wrap img{ width:100%; height:auto; display:block; transition: transform .35s ease; }
    .img-wrap.ar-4x3 img,
    .img-wrap.ar-1x1 img{ height:100%; object-fit: cover; }

    .img-wrap:hover img{ transform: scale(1.03); }

    /* Captions */
    figcaption{
      color: var(--muted);
      font-size: .9rem;
      text-align: center;
    }

    .footer{ color:var(--muted); font-size:.9rem; margin-top:36px; text-align:center }
  </style>
</head>
<body>
  <header>
    <div class="nav container">
      <div class="crumbs">↩︎ <a href="index.html">Back to Home</a></div>
    </div>
  </header>

  <main class="container">
    <!-- Hero / Title -->
    <section class="hero card">
      <span class="badge">Project 1</span>
      <h1 class="title">Project 1 — Images of the Russian Empire</h1>
    </section>

    <!-- Read-only section heading -->
    <section class="section card">
      <div class="box-line">Techniques Used</div>
    </section>

    <!-- Two small title + description boxes (read-only) -->
    <section class="section card">
      <div class="grid-2">
        <div>
          <div class="box-line">L2 Norm Alignment</div>
          <div class="box-text">
            This part is where I brute-force image alignment where I used blue filter as reference filter and let other 2 filters 
            move within in [-15,15] pixels window to check for alignment. The alignment score is calculated using Sum of Squared Differences. The alignment with greatest alignment score 
            will be used.
          </div>
        </div>
        <div>
          <div class="box-line">Pyramid Image Alignment</div>
          <div class="box-text">
            For larger images (.tif image files), I implemented pyramid image alignment technique for more efficient way of aligning images. The filters are zoomed out 2 times to do first round of alignment with [-120,120] shifting window, once the alignment differences hit the threshold, filters will be zoomed back out and perform alignment from [-20,20] shifting window.
          </div>
        </div>
      </div>
    </section>

    <!-- 3 images on the same line, same size -->
    <section class="section card">
      <h2 style="margin:0 0 10px">Images aligned with Brute-Force Technique through SSD Scoring</h2>
      <div class="grid-3">
        <figure>
          <a class="img-wrap ar-4x3" href="out_fcathedral.jpg" target="_blank" rel="noreferrer noopener">
            <img src="out_fcathedral.jpg" alt="" />
          </a>
          <figcaption>G: (5,2), R: (12,3)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-4x3" href="out_fmonastery.jpg" target="_blank" rel="noreferrer noopener">
            <img src="out_fmonastery.jpg" alt="" />
          </a>
          <figcaption>G: (-3, 2), R: (3,2)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-4x3" href="out_ftobolsk.jpg" target="_blank" rel="noreferrer noopener">
            <img src="out_ftobolsk.jpg" alt="" />
          </a>
          <figcaption>G: (3,3), R: (6,3)</figcaption>
        </figure>
      </div>
    </section>

    <!-- 8 images in a 2×4 layout -->
    <section class="section card">
      <h2 style="margin:0 0 10px">Large images aligned with Image Pyramid Alignment with SSD Scoring</h2>
      <div class="grid-2x4">
        <figure>
          <a class="img-wrap ar-1x1" href="icon.png" target="_blank" rel="noreferrer noopener">
            <img src="icon.png" alt="" />
          </a>
          <figcaption>G: (41, 17), R: (90, 23)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-1x1" href="italil.png" target="_blank" rel="noreferrer noopener">
            <img src="italil.png" alt="" />
          </a>
          <figcaption>G: (38, 21), R: (76, 35)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-1x1" href="melon.png" target="_blank" rel="noreferrer noopener">
            <img src="melon.png" alt="" />
          </a>
        <figure>
          <figcaption>G: (82, 11), R: (178, 13)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-1x1" href="self_portrait.png" target="_blank" rel="noreferrer noopener">
            <img src="self_portrait.png" alt="" />
          </a>
          <figcaption>G: (79, 29), R: (176, 37)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-1x1" href="siren.png" target="_blank" rel="noreferrer noopener">
            <img src="siren.png" alt="" />
          </a>
          <figcaption>G: (49, -6), R: (96, -25)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-1x1" href="threegen.png" target="_blank" rel="noreferrer noopener">
            <img src="threegen.png" alt="" />
          </a>
          <figcaption>G: (53, 14), R: (112, 11)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-1x1" href="harvesters.png" target="_blank" rel="noreferrer noopener">
            <img src="harvesters.png" alt="" />
          </a>
          <figcaption>G: (59, 16), R: (124, 13)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-1x1" href="flastochikino.png" target="_blank" rel="noreferrer noopener">
            <img src="flastochikino.png" alt="" />
          </a>
          <figcaption>G: (-3, -2), R: (75, -9)</figcaption>
        </figure>
      </div>
    </section>

    <!-- Read-only title + description area -->
    <section class="section card">
      <div class="box-line">Changing Base Filter</div>
      <div class="box-text">
        I started with using blue as the reference filter to align the other two filters before stacking.
        For a few images (emir.tif, lugano.tif, church.tif), red was still misaligned even when blue and
        green aligned well. Switching to green as the reference fixed those, likely because green sits
        between red/blue and correlates better for pixel-intensity alignment.
      </div>
    </section>

    <!-- 6 images in 2 columns × 3 rows -->
    <section class="section card">
      <h2 style="margin:0 0 10px">Comparing images before and after changing reference filter</h2>
      <div class="grid-2x3">
        <figure>
          <a class="img-wrap ar-4x3" href="emir.png" target="_blank" rel="noreferrer noopener">
            <img src="emir.png" alt="" />
          </a>
          <figcaption>Ref Filter: Blue, G: (49,24), R: (103, 57)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-4x3" href="emir2.png" target="_blank" rel="noreferrer noopener">
            <img src="emir2.png" alt="" />
          </a>
          <figcaption>Ref Filter: Green, B: (-49, -24), R: (57, 17)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-4x3" href="lugano.png" target="_blank" rel="noreferrer noopener">
            <img src="lugano.png" alt="" />
          </a>
          <figcaption>Ref Filter: Blue, G: (41, -16), R: (404, -188)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-4x3" href="lugano2.png" target="_blank" rel="noreferrer noopener">
            <img src="lugano2.png" alt="" />
          </a>
          <figcaption>Ref Filter: Green, B: (-41, 16), R: (53,-13)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-4x3" href="church.png" target="_blank" rel="noreferrer noopener">
            <img src="church.png" alt="" />
          </a>
          <figcaption>Ref Filter: Blue, G: (25,4), R: (64,267)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-4x3" href="church2.png" target="_blank" rel="noreferrer noopener">
            <img src="church2.png" alt="" />
          </a>
          <figcaption>Ref Filter: Green, B: (-25, -4), R: (33,-8)</figcaption>
        </figure>
      </div>
    </section>

    <!-- NEW: EMPTY ROW (3 placeholders) placed ABOVE your recent 3 images -->
    <section class="section card">
      <div class="grid-3">
        <figure>
          <a class="img-wrap ar-4x3" href="zakat.jpg" target="_blank" rel="noreferrer noopener">
          <img src="your-image.jpg" alt="" />
          </a>
          <figcaption>zakat.jpg</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-4x3" href="woman.jpg" target="_blank" rel="noreferrer noopener">
          <img src="woman.jpg" alt="" />
          </a>
          <figcaption>woman.jpg</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-4x3" href="dam.jpg" target="_blank" rel="noreferrer noopener">
          <img src="dam.jpg" alt="" />
          </a>
          <figcaption>dam.jpg</figcaption>
        </figure>
      </div>
    </section>

    <!-- Your existing 3 images (out_fzakat, out_fwoman, out_fdam) -->
    <section class="section card">
      <div class="box-line">Additional Examples from Prokudin-Gorskii collection</div>
      <div class="grid-3">
        <figure>
          <a class="img-wrap ar-4x3" href="out_fzakat.jpg" target="_blank" rel="noreferrer noopener">
            <img src="out_fzakat.jpg" alt="" />
          </a>
          <figcaption>B: (-5, -5), R: (4, -7)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-4x3" href="out_fwoman.jpg" target="_blank" rel="noreferrer noopener">
            <img src="out_fwoman.jpg" alt="" />
          </a>
          <figcaption>B: (-5, -4), R: (6,2)</figcaption>
        </figure>
        <figure>
          <a class="img-wrap ar-4x3" href="out_fdam.jpg" target="_blank" rel="noreferrer noopener">
            <img src="out_fdam.jpg" alt="" />
          </a>
          <figcaption>B: (-5, -2), R: (6, 1)</figcaption>
        </figure>
      </div>
    </section>

    <p class="footer">© <span id="year"></span> Tiffany Dang — <a href="index.html">back to index</a></p>
  </main>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
